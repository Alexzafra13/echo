# ============================================
# Echo Music Server - Production Configuration
# ============================================
# This file contains SAFE DEFAULTS for production.
# Only change what you need!
#
# Quick Start (3 steps):
#   1. Copy this file: cp .env.example .env
#   2. Generate secure JWT secrets (run twice):
#      openssl rand -base64 64
#   3. Paste the secrets below in JWT_SECRET and JWT_REFRESH_SECRET
#   4. Run: docker compose up -d
#
# That's it! Everything else has sensible defaults.
# ============================================

# ----------------------------------------
# Application
# ----------------------------------------
NODE_ENV=production
APP_PORT=4567

# ----------------------------------------
# Database (PostgreSQL)
# ----------------------------------------
# These values match docker-compose.yml
# Change only if using an external database
POSTGRES_USER=music_admin
POSTGRES_PASSWORD=change_this_password_in_production
POSTGRES_DB=music_server
POSTGRES_PORT=5432

# ----------------------------------------
# Redis Cache
# ----------------------------------------
# This value matches docker-compose.yml
REDIS_PASSWORD=change_this_redis_password

# ----------------------------------------
# JWT Security ‚ö†Ô∏è REQUIRED
# ----------------------------------------
# ‚ö†Ô∏è IMPORTANT: You MUST generate secure secrets!
#
# Run this command TWICE to get two different secrets:
#   openssl rand -base64 64
#
# Or on Windows PowerShell:
#   [Convert]::ToBase64String((1..64 | ForEach-Object { Get-Random -Maximum 256 }))
#
# These are the ONLY variables you MUST change:
JWT_SECRET=PLEASE_GENERATE_A_SECURE_SECRET_RUN_openssl_rand_base64_64
JWT_REFRESH_SECRET=PLEASE_GENERATE_ANOTHER_SECRET_RUN_openssl_rand_base64_64

# Token expiration times (optional, these defaults are good)
JWT_EXPIRATION=7d
JWT_REFRESH_EXPIRATION=30d

# ----------------------------------------
# Music Library üéµ
# ----------------------------------------
# Path to your music collection on the HOST machine
# Docker will mount this path as a volume
#
# Examples:
#   Linux:   MUSIC_PATH=/mnt/music
#   Windows: MUSIC_PATH=C:/Users/YourName/Music
#   Mac:     MUSIC_PATH=/Users/YourName/Music
#   Testing: MUSIC_PATH=./music (creates a local folder)
#
# Default creates a local ./music folder for testing:
MUSIC_PATH=./music

# ----------------------------------------
# Cache Configuration (Optional)
# ----------------------------------------
# These defaults work well for most setups
ENABLE_CACHE=true
CACHE_ALBUM_TTL=3600
CACHE_TRACK_TTL=3600
CACHE_ARTIST_TTL=7200

# ----------------------------------------
# CORS Origins (Optional)
# ----------------------------------------
# Allow access from these origins (comma-separated)
# Default: same server only
# For external access: CORS_ORIGINS=http://localhost:4567,https://yourdomain.com
CORS_ORIGINS=http://localhost:4567

# ----------------------------------------
# Build Args (Optional - for advanced users)
# ----------------------------------------
BUILD_DATE=
VCS_REF=
VERSION=latest
