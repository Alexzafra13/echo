# ============================================
# Echo Music Server - Configuration
# ============================================
# ‚ö†Ô∏è  THIS FILE IS COMPLETELY OPTIONAL!
#
# Echo works WITHOUT any .env file (Jellyfin-style):
#   - JWT secrets: Auto-generated in /app/config/secrets.env
#   - Database: Auto-configured via docker-compose.yml
#   - All defaults: Already sensible
#
# Quick Start (No configuration needed):
#   docker compose up -d
#
# That's it! Only create .env if you want to OVERRIDE defaults.
# ============================================

# ============================================
# üéµ Music Library Configuration
# ============================================
# Path to your music collection on the HOST machine
# This is the MOST IMPORTANT setting - where your music is stored!
#
# Examples:
#   MUSIC_PATH=/mnt/music                    # Linux (NAS mount point)
#   MUSIC_PATH=C:/Users/YourName/Music       # Windows
#   MUSIC_PATH=/Users/YourName/Music         # macOS
#
# Default: ./music (local folder for testing)
# MUSIC_PATH=./music

# ============================================
# üåê Application Settings
# ============================================
# Port where Echo will be accessible
# Default: 4567
# APP_PORT=4567

# Node environment (development/production)
# Default: production (when using Docker)
# NODE_ENV=production

# ============================================
# üåç Internet Access (HTTPS/SSL)
# ============================================
# Only needed if using docker-compose.production.yml
#
# Your domain name
# DOMAIN=music.yourdomain.com

# Email for SSL certificate (Let's Encrypt)
# SSL_EMAIL=your@email.com

# ============================================
# üîí Security Configuration
# ============================================
# IMPORTANT: In production, use strong passwords and secrets!

# Database password (PostgreSQL)
# ‚ö†Ô∏è  CHANGE THIS in production!
# Generate with: openssl rand -base64 32
# POSTGRES_PASSWORD=change_me_in_production

# Redis/Cache password
# ‚ö†Ô∏è  CHANGE THIS in production!
# Generate with: openssl rand -base64 32
# REDIS_PASSWORD=change_me_in_production

# JWT Secrets (Auto-generated if not set - Recommended!)
# Only set these if you need to use custom secrets
# Generate with: openssl rand -base64 64
# JWT_SECRET=
# JWT_REFRESH_SECRET=

# JWT Token Expiration
# Default: 7d (7 days)
# JWT_EXPIRATION=7d

# JWT Refresh Token Expiration
# Default: 30d (30 days)
# JWT_REFRESH_EXPIRATION=30d

# Bcrypt rounds for password hashing
# Range: 10-14 (higher = more secure but slower)
# Default: 12
# BCRYPT_ROUNDS=12

# ============================================
# üåç CORS (Cross-Origin Resource Sharing)
# ============================================
# ‚ö†Ô∏è OPTIONAL: Usually you DON'T need to set this!
#
# Auto-configured by default:
# - Development: http://localhost:5173 (Vite)
# - Production: Auto-detects your server IPs (http://IP:4567)
#
# Only set this manually if:
# - You have a custom domain (HTTPS)
# - You need specific origins
#
# Examples:
#   CORS_ORIGINS=https://music.yourdomain.com
#   CORS_ORIGINS=http://localhost:4567,https://music.example.com
#
# CORS_ORIGINS=

# ============================================
# üíæ File Storage Paths (Advanced)
# ============================================
# Where uploaded music files are stored (inside container)
# Usually you don't need to change this
# UPLOAD_PATH=/app/uploads/music

# Where album cover images are stored (inside container)
# COVERS_PATH=/app/uploads/covers

# ============================================
# üé® Metadata Storage Configuration (Advanced)
# ============================================
# How metadata (images, covers) should be stored
#
# Storage mode: "centralized" or "portable"
# - centralized: All images in one app folder (recommended for read-only music volumes)
# - portable: Images stored alongside music files (requires writable music folder)
# Default: centralized
# METADATA_STORAGE_MODE=centralized

# Base path for centralized metadata storage (inside container)
# Only used when METADATA_STORAGE_MODE=centralized
# Default: /app/uploads/metadata
# METADATA_STORAGE_PATH=/app/uploads/metadata

# Save album covers in album folders (true/false)
# If false, covers are saved to metadata storage
# Default: false (to support read-only music volumes)
# METADATA_SAVE_COVERS_IN_ALBUM_FOLDER=false

# ============================================
# üì¶ Cache Configuration
# ============================================
# Enable/disable Redis caching
# Default: true
# ENABLE_CACHE=true

# Cache TTL (Time To Live) in seconds
# Album cache duration (default: 3600 = 1 hour)
# CACHE_ALBUM_TTL=3600

# Track cache duration (default: 3600 = 1 hour)
# CACHE_TRACK_TTL=3600

# Artist cache duration (default: 7200 = 2 hours)
# CACHE_ARTIST_TTL=7200

# ============================================
# üîß Advanced Settings (Usually not needed)
# ============================================

# PostgreSQL Database Settings
# Only change if using external database
# POSTGRES_USER=music_admin
# POSTGRES_DB=music_server
# DATABASE_URL=postgresql://music_admin:password@postgres:5432/music_server

# Redis Settings
# Only change if using external Redis
# REDIS_HOST=redis
# REDIS_PORT=6379

# Application Host
# Default: 0.0.0.0 (listen on all interfaces)
# HOST=0.0.0.0

# API Prefix
# Default: api (URLs will be /api/albums, /api/tracks, etc.)
# API_PREFIX=api

# ============================================
# üìù Build Metadata (Set by CI/CD)
# ============================================
# VERSION=1.0.0
# BUILD_DATE=2024-01-01
# VCS_REF=abc123
